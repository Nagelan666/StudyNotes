# [常数时间插入、删除和获取随机元素](https://leetcode-cn.com/problems/insert-delete-getrandom-o1/)

### 信息卡片

- 时间： 2019-1-19
- 难度：中等
- 题目描述：

```
峰值元素是指其值大于左右相邻值的元素。

给定一个输入数组 nums，其中 nums[i] ≠ nums[i+1]，找到峰值元素并返回其索引。

数组可能包含多个峰值，在这种情况下，返回任何一个峰值所在位置即可。

你可以假设 nums[-1] = nums[n] = -∞。

示例 1:

输入: nums = [1,2,3,1]
输出: 2
解释: 3 是峰值元素，你的函数应该返回其索引 2。

示例 2:

输入: nums = [1,2,1,3,5,6,4]
输出: 1 或 5 
解释: 你的函数可以返回索引 1，其峰值元素为 2；
     或者返回索引 5， 其峰值元素为 6。


说明:
你的解法应该是 O(logN) 时间复杂度的。
```





### 参考答案

> 思路

分析：为使时间复杂度控制在O(log n)，可以采用二分查找.

峰值需要满足的条件：一个值比它左边的第一个值大，那么就是一个峰值（此数组左右可看做趋于无穷小）

流程：首先找到中间节点mid，如果左边的结点比mid大，那么继续在左半区间查找，这里面一定存在一个峰值元素，因为nums[-1]为负无穷大；反之就继续在右半区间查找.


> 代码

```
class Solution {
    public int findPeakElement(int[] nums) {
        int l = 0, r = nums.length - 1;
        while (l < r) {
            int mid = (l + r) / 2;
            if (nums[mid] > nums[mid + 1]){
                r = mid;
            }
            else{
                l = mid + 1;
            }
        }
        return l;
    }
}
```



> 复杂度分析

时间复杂度 :O(log2(n)) 。

空间复杂度 :O(1)。





### 其他优秀解答

> 暂无
