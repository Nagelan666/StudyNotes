# 数组中只出现一次的数字 

### 信息卡片 

- 时间： 2019-1-27
- 题目描述：

```
一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。
```



### 参考答案

> 思路

**方法1：Set.add+Set.remove**

使用Set集合存储，Set集合不存储重复值，add()方法返回值为boolean类型，这一特点可以利用。
Set集合的add方法，添加成功返回true，否则返回false，而Set集合不存储重复值，所以当要添加的数与集合中已存在的数重复时，不会再进行添加操作，返回false，这时再进行remove操作，将集合中已存在的那个与要添加的数相同的元素移除，这样将作为方法参数传递过来的整型数组遍历完后，到最后集合中就只剩下了那个只出现了一次的数字。

**方法二：（这里我们着重讲解方法二例用异或）**

任何一个数字异或它自己都等于0。 

举个栗子：2  3  4  2  3

 2 xor 3 xor 4 xor 2 xor 3  = 4



但是我们这里有两个只出现一次的数字，所以我们要想办法利用这个异或结果，把数组分为两个子数组，一个子数组包含一个只出现一次的数字，另一个数组包含另一个只出现一次的数字。 



 举个栗子：1 2 3 4 2 3

 所有数字异或结果 = 1 xor 4 

​	001

xor  100

=========

​	101

第一个为1的位的位置N=1 **（也就是第一个可以区分它们不同的位置是第一位）**

数组所有数的二进制表示中，第N(N=1)位为1的的数为1，3， 3，第N(N=1)位为0的的数为2， 2， 4 

这样就把原数组拆分为两个子数组，1和4被分到不同的数组中去了。然后分别在两个子数组中找只出现一次的那个数。 




> 代码

```java
    public void FindNumsAppearOnce(int [] array,int num1[] , int num2[]) {
        int diff = 0;
        for (int num : array){
            diff ^= num;
        }
		
        //diff &= -diff 得到出 diff 最右侧不为 0 的位
        diff &= -diff;

        for (int num : array){
            if((num & diff )== 0){
                num1[0] ^= num;
            }else{
                num2[0] ^= num;
            }
        }
    }
```

 



 